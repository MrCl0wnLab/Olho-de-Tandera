<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de User-Agent Parser</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="/static/favicon.ico">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Bootstrap 5.3.6 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- CSS customizado -->
    <link rel="stylesheet" href="/static/css/olho-tandera.css">
    <!-- Tema Dark Red customizado -->
    <link rel="stylesheet" href="/static/css/custom-dark-red.css">
    
    <!-- Bootstrap JS Bundle com Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    
    <!-- Popper.js e Bootstrap JS separados -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js" integrity="sha384-RuyvpeZCxMJCqVUGFI0Do1mQrods/hhxYlcVfGPOfQtPJh0JCw12tUAZ/Mv10S7D" crossorigin="anonymous"></script>
    <!-- Theme Switcher -->
    <script src="/static/js/theme-switcher.js"></script>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .result {
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        h1 {
            color: #333;
        }
        h2 {
            margin-top: 20px;
            color: #555;
        }
        pre {
            background: #eee;
            padding: 10px;
            overflow: auto;
        }
        .user-agent-sample {
            font-size: 0.8em;
            color: #666;
            margin-bottom: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <h1>Teste do User-Agent Parser</h1>
    
    <div class="result">
        <h2>Seu User-Agent</h2>
        <p class="user-agent-sample" id="currentUA"></p>
        <table>
            <tr>
                <th>Browser</th>
                <th>Sistema Operacional</th>
            </tr>
            <tr>
                <td>
                    <div class="browser-cell" title="" id="currentUserAgent">
                        <i class="fas fa-globe me-1"></i><span id="currentBrowser"></span>
                    </div>
                </td>
                <td>
                    <div class="os-cell" title="" id="currentUserAgentOS">
                        <i class="fas fa-desktop me-1"></i><span id="currentOS"></span>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    
    <h2>Teste com outros User-Agents</h2>
    
    <div id="testResults"></div>
    
    <script src="/static/js/user-agent-parser.js"></script>
    <script src="/static/js/browser-os-icons.js"></script>
    <script>
        // Mostrar o User-Agent atual
        const userAgent = navigator.userAgent;
        document.getElementById('currentUA').textContent = userAgent;
        const current = parseUserAgent(userAgent);
        document.getElementById('currentBrowser').textContent = current.browser;
        document.getElementById('currentOS').textContent = current.os;
        
        // Configurar os títulos para aplicação dos ícones
        document.getElementById('currentUserAgent').setAttribute('title', userAgent);
        document.getElementById('currentUserAgentOS').setAttribute('title', userAgent);
        
        // Lista de User-Agents para testar
        const userAgents = [
            {
                name: "Chrome em Windows 10",
                ua: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"
            },
            {
                name: "Firefox em macOS",
                ua: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:89.0) Gecko/20100101 Firefox/89.0"
            },
            {
                name: "Safari em iPhone",
                ua: "Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1.1 Mobile/15E148 Safari/604.1"
            },
            {
                name: "Edge em Windows",
                ua: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36 Edg/91.0.864.59"
            },
            {
                name: "Chrome em Android",
                ua: "Mozilla/5.0 (Linux; Android 10; SM-G973F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.120 Mobile Safari/537.36"
            },
            {
                name: "Opera em Linux",
                ua: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36 OPR/77.0.4054.172"
            },
            {
                name: "Internet Explorer 11",
                ua: "Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; rv:11.0) like Gecko"
            }
        ];
        
        // Testar todos os User-Agents
        const resultsContainer = document.getElementById('testResults');
        userAgents.forEach(agent => {
            const parsed = parseUserAgent(agent.ua);
            
            const resultDiv = document.createElement('div');
            resultDiv.className = 'result';
            
            const title = document.createElement('h3');
            title.textContent = agent.name;
            resultDiv.appendChild(title);
            
            const uaPara = document.createElement('p');
            uaPara.className = 'user-agent-sample';
            uaPara.textContent = agent.ua;
            resultDiv.appendChild(uaPara);
            
            const table = document.createElement('table');
            table.innerHTML = `
                <tr>
                    <th>Browser</th>
                    <th>Sistema Operacional</th>
                </tr>
                <tr>
                    <td>
                        <div class="browser-cell" title="${agent.ua}">
                            <i class="fas fa-globe me-1"></i>${parsed.browser}
                        </div>
                    </td>
                    <td>
                        <div class="os-cell" title="${agent.ua}">
                            <i class="fas fa-desktop me-1"></i>${parsed.os}
                        </div>
                    </td>
                </tr>
            `;
            resultDiv.appendChild(table);
            
            resultsContainer.appendChild(resultDiv);
        });
    </script>
</body>
</html>
